{
  "$schema": "https://raw.githubusercontent.com/your-org/docflow-template/main/docflow.schema.json",
  "version": "1.0.0",

  "project": {
    "name": "{{PROJECT_NAME}}",
    "description": "{{PROJECT_DESCRIPTION}}",
    "type": "auto",
    "language": "Australian English",
    "owner": "{{GITHUB_OWNER}}",
    "repository": "{{GITHUB_REPO}}"
  },

  "branding": {
    "primary": "#072151",
    "secondary": "#2978c7",
    "accent": "#14b8a6",
    "background": "#ccd5e7",
    "success": "#10B981",
    "warning": "#F59E0B",
    "error": "#EF4444"
  },

  "folders": {
    "enforce": true,
    "required": [
      ".github/workflows",
      "docs",
      "src",
      "tests"
    ],
    "optional": [
      ".design",
      "scripts",
      ".github/baselines",
      ".github/ISSUE_TEMPLATE"
    ]
  },

  "readme": {
    "generate": true,
    "template": "default",
    "sections": [
      "badges",
      "overview",
      "architecture",
      "installation",
      "usage",
      "api",
      "testing",
      "deployment",
      "contributing",
      "license"
    ],
    "badges": {
      "workflow": true,
      "version": true,
      "coverage": true,
      "security": true,
      "documentation": true
    }
  },

  "diagrams": {
    "mermaid": {
      "enabled": true,
      "theme": "default"
    },
    "erd": {
      "enabled": true,
      "sources": [
        "src/**/*.prisma",
        "src/**/*.sql",
        "src/**/Entity.xml",
        "src/**/*.entity.ts"
      ],
      "output": "docs/ERD_DIAGRAMS.md"
    },
    "architecture": {
      "enabled": true,
      "depth": 3,
      "exclude": ["node_modules", ".git", "dist", "coverage", "__pycache__"]
    },
    "flow": {
      "enabled": true,
      "sources": [".github/workflows/*.yml"]
    },
    "state": {
      "enabled": true,
      "sources": ["src/**/*status*.ts", "src/**/*state*.ts"]
    }
  },

  "documentation": {
    "output": {
      "directory": "docs/generated",
      "formats": ["markdown", "pdf", "docx"],
      "indexFile": "INDEX.md"
    },
    "dataDictionary": {
      "enabled": true,
      "output": "docs/DATA_DICTIONARY.md"
    },
    "apiReference": {
      "enabled": true,
      "openApiSpec": "openapi/openapi.yaml",
      "output": "docs/API_REFERENCE.md"
    },
    "changelog": {
      "enabled": true,
      "conventionalCommits": true,
      "file": "CHANGELOG.md"
    },
    "asBuilt": {
      "enabled": true,
      "output": "docs/AS_BUILT_DOCUMENT.md"
    }
  },

  "templates": {
    "scaffold": {
      "enabled": true,
      "onInit": true,
      "structure": {
        "docs/": {
          "README.md": "docs/templates/README.md",
          "api/": {
            "README.md": "docs/templates/api/ENDPOINT-TEMPLATE.md"
          },
          "architecture/": {
            "README.md": "docs/templates/architecture/README.md",
            "adr/": {
              "README.md": "docs/templates/adr/ADR-000-TEMPLATE.md"
            }
          },
          "database/": {
            "README.md": "docs/templates/database/TABLE-TEMPLATE.md"
          },
          "deployment/": {
            "README.md": "docs/templates/deployment/README.md"
          },
          "features/": {
            "README.md": "docs/templates/features/FEATURE-TEMPLATE.md"
          },
          "runbooks/": {
            "README.md": "docs/templates/runbooks/RB-000-TEMPLATE.md"
          },
          "security/": {
            "README.md": "docs/templates/security/README.md"
          }
        }
      }
    },
    "adr": {
      "enabled": true,
      "directory": "docs/architecture/adr",
      "template": "docs/templates/adr/ADR-000-TEMPLATE.md",
      "prefix": "ADR",
      "autoNumber": true
    },
    "runbooks": {
      "enabled": true,
      "directory": "docs/runbooks",
      "template": "docs/templates/runbooks/RB-000-TEMPLATE.md",
      "prefix": "RB",
      "autoNumber": true,
      "categories": ["incident", "deployment", "maintenance", "recovery"]
    },
    "features": {
      "enabled": true,
      "directory": "docs/features",
      "template": "docs/templates/features/FEATURE-TEMPLATE.md",
      "linkToAdr": true
    },
    "api": {
      "enabled": true,
      "directory": "docs/api",
      "template": "docs/templates/api/ENDPOINT-TEMPLATE.md",
      "groupBy": "resource"
    },
    "database": {
      "enabled": true,
      "directory": "docs/database",
      "template": "docs/templates/database/TABLE-TEMPLATE.md",
      "autoGenerate": {
        "fromPrisma": true,
        "fromEntity": true,
        "fromSql": true
      }
    },
    "architecture": {
      "enabled": true,
      "directory": "docs/architecture",
      "template": "docs/templates/architecture/README.md",
      "diagrams": {
        "format": "ascii",
        "c4Model": true,
        "dataFlow": true,
        "deployment": true
      }
    },
    "security": {
      "enabled": true,
      "directory": "docs/security",
      "template": "docs/templates/security/README.md",
      "sections": ["threatModel", "authentication", "authorisation", "dataProtection", "compliance"]
    },
    "deployment": {
      "enabled": true,
      "directory": "docs/deployment",
      "template": "docs/templates/deployment/README.md",
      "environments": ["development", "staging", "production"]
    },
    "variables": {
      "PROJECT_NAME": "{{project.name}}",
      "PROJECT_DESCRIPTION": "{{project.description}}",
      "OWNER": "{{project.owner}}",
      "REPO": "{{project.repository}}",
      "DATE": "{{date:YYYY-MM-DD}}",
      "AUTHOR": "{{git.user.name}}",
      "VERSION": "{{version}}"
    }
  },

  "ai": {
    "claudeMd": {
      "generate": true,
      "autoUpdate": true,
      "sections": [
        "projectOverview",
        "folderStructure",
        "techStack",
        "namingConventions",
        "commonCommands",
        "dataModel",
        "keyFiles"
      ]
    }
  },

  "security": {
    "owaspZap": {
      "enabled": true,
      "targetUrl": "${PORTAL_URL}",
      "scanTypes": {
        "baseline": { "trigger": "push", "failOnWarnings": false },
        "api": { "trigger": "schedule", "schedule": "weekly" },
        "full": { "trigger": "manual", "failOnWarnings": true }
      }
    },
    "secretScanning": {
      "enabled": true,
      "patterns": [
        "password\\s*[=:]\\s*[\"'][^\"']+[\"']",
        "api[_-]?key\\s*[=:]\\s*[\"'][\\w-]+[\"']",
        "client[_-]?secret\\s*[=:]\\s*[\"'][\\w-]+[\"']",
        "token\\s*[=:]\\s*[\"'][\\w-]+[\"']",
        "-----BEGIN.*PRIVATE KEY-----"
      ],
      "exclude": ["*.example", "*.template", "*.test.*", "*.spec.*"]
    },
    "dependencyScanning": {
      "enabled": true,
      "tools": ["npm-audit", "snyk"],
      "severityThreshold": "high"
    },
    "codeql": {
      "enabled": true,
      "languages": ["javascript", "typescript", "python"]
    }
  },

  "linting": {
    "enabled": true,
    "failOnError": true,
    "languages": {
      "javascript": {
        "tool": "eslint",
        "config": ".eslintrc.json",
        "extensions": [".js", ".jsx", ".ts", ".tsx"]
      },
      "python": {
        "tool": "ruff",
        "config": "pyproject.toml",
        "extensions": [".py"]
      },
      "powershell": {
        "tool": "PSScriptAnalyzer",
        "rules": ["PSAvoidUsingPlainTextForPassword", "PSAvoidUsingInvokeExpression"],
        "extensions": [".ps1", ".psm1"]
      },
      "yaml": {
        "tool": "yamllint",
        "extensions": [".yml", ".yaml"]
      },
      "markdown": {
        "tool": "markdownlint",
        "extensions": [".md"]
      }
    }
  },

  "naming": {
    "enforce": true,
    "rules": {
      "files": {
        "scripts": "PascalCase",
        "components": "PascalCase",
        "utilities": "kebab-case",
        "tests": "*.test.{ts,js}|*.spec.{ts,js}"
      },
      "folders": "kebab-case",
      "variables": {
        "javascript": "camelCase",
        "typescript": "camelCase",
        "python": "snake_case",
        "powershell": "PascalCase"
      },
      "constants": "SCREAMING_SNAKE_CASE"
    }
  },

  "testing": {
    "enabled": true,
    "phases": {
      "unit": { "enabled": true, "required": true },
      "integration": { "enabled": true, "required": false },
      "e2e": { "enabled": true, "required": false },
      "performance": { "enabled": false, "required": false }
    },
    "coverage": {
      "enabled": true,
      "threshold": 70,
      "failOnThreshold": false
    },
    "regression": {
      "enabled": true,
      "baselineDirectory": ".github/baselines"
    }
  },

  "releases": {
    "enabled": true,
    "versioning": {
      "strategy": "semver",
      "bumpRules": {
        "feat": "minor",
        "fix": "patch",
        "breaking": "major",
        "docs": "patch",
        "chore": "patch"
      }
    },
    "artifacts": {
      "upload": true,
      "retentionDays": 365,
      "formats": ["zip", "tar.gz"]
    },
    "notes": {
      "generate": true,
      "template": "default",
      "includeChangelog": true
    }
  },

  "notifications": {
    "teams": {
      "enabled": true,
      "webhookSecret": "TEAMS_WEBHOOK_URL",
      "events": ["deployment.success", "deployment.failure", "security.critical"]
    },
    "email": {
      "enabled": true,
      "events": ["deployment.failure", "security.critical"],
      "template": "branded-html"
    },
    "github": {
      "issues": {
        "enabled": true,
        "events": ["security.vulnerability"]
      },
      "prComments": {
        "enabled": true,
        "events": ["quality.report", "test.results"]
      }
    }
  },

  "cicd": {
    "provider": "github",
    "environments": ["dev", "staging", "production"],
    "qualityGates": {
      "linting": { "required": true, "blocking": true },
      "tests": { "required": true, "blocking": true },
      "security": { "required": true, "blocking": false },
      "coverage": { "required": false, "blocking": false }
    },
    "deployment": {
      "strategy": "staged",
      "requireApproval": ["production"],
      "healthCheck": {
        "enabled": true,
        "timeout": 60,
        "retries": 3
      },
      "rollback": {
        "enabled": true,
        "automatic": false
      }
    }
  }
}
